<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="../../my/info/css/main.css"/>
		<link rel="stylesheet" type="text/css" href="../../my/info/css/top.css"/>
		<link rel="stylesheet" type="text/css" href="../../my/info/css/bottom.css"/>
		<link rel="stylesheet" type="text/css" href="../font-awesome-4.7.0/css/font-awesome.css"/>
		<link rel="stylesheet" type="text/css" href="../../Notiflix-2.1.2/Unminified/notiflix-2.1.2.css">
		<script src="../../baseLibrary/js/jquery-3.4.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../baseLibrary/js/ajax.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../baseLibrary/js/user.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../Notiflix-2.1.2/Unminified/notiflix-2.1.2.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<div class="main">
			<div class="top">
				<img class="changeBackgroundImage">
				<script type="text/javascript">
					getBackground($('.changeBackgroundImage')[0]);
				</script>
				<div class="change-background">
					更换背景
				</div>
			</div>
			<div class="bottom">
				<div class="bottom-wrapper">
					<div class="HeadPortraitCircle">
						<img class="myHeadPortrait" style="
						width: 100%;height: 100%;
						">
						<script type="text/javascript">
							getMyHeadPortrait($('.myHeadPortrait')[0]);
						</script>
						<div class="editMyHeadPortrait">
							编辑
						</div>
					</div>
					<div class="bottom-top">
						<div class="bottom-top-side">
							<div class="user-information">
								<div class="user-information-content">
									<p>权限</p>
									<div class="permission-kind">
										
									</div>
								</div>
								<div class="user-information-content">
									<p>QQ</p>
									<div class="qq-num">
										
									</div>
								</div>
								<div class="user-information-content">
									<p>电话</p>
									<div class="tel-num">
										
									</div>
								</div>
							</div>
						</div>
						<div class="bottom-top-mid">
							<div class="bottom-top-mid-in">
								
							</div>
							<div class="bottom-top-mid-in">
								
							</div>
						</div>
						<div class="bottom-top-side">
							<div class="user-information">
								<div class="user-information-content">
									<p>专业</p>
									<div class="major">
										
									</div>
								</div>
								<div class="user-information-content">
									<p>班级</p>
									<div class="class-num">
										
									</div>
								</div>
								<div class="user-information-content">
									<p>标签</p>
									<div class="tag">
										
									</div>
								</div>
							</div>
						</div>
					</div>
					
					<div class="bottom-item">
						<div class="side">
							<p>签到信息</p>
						</div>
						<div class="bottom-item-content">
							
						</div>
						<div class="bottom-item-foot">
							
						</div>
					</div>
					<div class="bottom-item">
						<div class="side">
							<p>隐私设置</p>
						</div>
						<div class="bottom-item-content">
							
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<div id="iframe-wrapper">
			<div class="deleterBtn">
				<div class="fa fa-close fa-3x">
					
				</div>
			</div>
			<iframe src="" width="800px" height="800px"></iframe>
		</div>
	</body>
</html>
<script type="text/javascript">
	var IFC = new (function(){
		var iframe = $('#iframe-wrapper');
		this.pop = function(src){
			iframe.find('iframe')[0].src = src;
			Notiflix.Block.Circle('#iframe-wrapper', '加载中...');
			iframe.find('iframe')[0].onload = function(){
				Notiflix.Block.Remove('#iframe-wrapper',500);
			};
			iframe[0].style.top = 'calc(50% - 400px)';
		}
		this.close = function(){
			iframe[0].style.top = '5000px';
		}
		return this;
	})();
	$('.editMyHeadPortrait')[0].onclick = function(){
		IFC.pop('../my/changeHeadPortrait');
	}
	$('.change-background')[0].onclick = function(){
		IFC.pop('../my/changeBackground');
	}
	$('.deleterBtn')[0].onclick = function(){
		IFC.close();
		location.reload();
	}
	
	getMyData(function(result){
		console.log(result);
		$('.permission-kind')[0].textContent = result.roleName;
		$('.qq-num')[0].textContent = result.qqNum;
		$('.tel-num')[0].textContent = result.telNum;
		var professionalClass = result.professionalClass.split('-');
		$('.major')[0].textContent = professionalClass[0];
		$('.class-num')[0].textContent = professionalClass[1];
		$('.tag')[0].textContent = result.roleId;
		$('.bottom-top-mid-in')[0].textContent = result.schoolID;
		$('.bottom-top-mid-in')[1].textContent = result.nickName;
		
	})
</script>